<!DOCTYPE html>
<html>
  <head>
    <!-- Google Tag Manager -->
    <!--<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M8WBXH7');</script>-->
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href=/public/stylesheets/bs.css?random=@Environment.TickCount>
    <link rel="stylesheet" href=/public/stylesheets/styles.css?random=@Environment.TickCount>
    <link rel="stylesheet" href=/public/stylesheets/pygment_trac.css?random=@Environment.TickCount>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <link rel="canonical" href="made2591.github.io/posts/hal-s3-sns">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
      <link rel="icon" type="image/x-icon"  href="/favicon.ico" />
    <title>HAL: AWS s3-sns based single-slack-command bot to handle your VPC | Matteo Madeddu</title>
    <!--[if lt IE 9]>

      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <!--<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M8WBXH7"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="wrapper">
        <section>
          <div id="header">
  <h1>
    <a id="sitename" href="">Matteo Madeddu</a>
  </h1>

  <!-- Add something about you in p tag-->
  <p>Mac OS lover, Docker fan, Go explorer, Python geek, Trello addicted.</p>
  <hr/>

  <span class="credits pull-left">
    
      <a href="/">Home</a>  | 
    
      <a href="/blog">Blog</a>  | 
    
      <a href="/archive">Archive</a>  | 
    
      <a href="/about">About</a>  | 
    
      <a href="/matteo_madeddu_cv.pdf">Resume</a>  | 
    
      <a href="/quotes">Quotes</a> 
    
  </span>

  <span class="credits pull-right social">
    
      
        <a href="https://github.com/made2591/" target="_blank"><i class="fa fa-github"></i></a>
      
    
      
        <a href="https://twitter.com/made2591" target="_blank"><i class="fa fa-twitter"></i></a>
      
    
      
        <a href="https://linkedin.com/in/mmadeddu" target="_blank"><i class="fa fa-linkedin"></i></a>
      
    
      
        <a href="https://www.facebook.com/matteo.madeddu" target="_blank"><i class="fa fa-facebook"></i></a>
      
    
  </span>


</div>


          <div class="post-title">
    <h1>HAL: AWS s3-sns based single-slack-command bot to handle your VPC</h1>
    <p class="text-muted">
    


    24 Mar 2018
    
     | <i class="fa fa-comment"></i> <a class="text-muted" href="/posts/hal-s3-sns/#disqus_thread"></a>
    

    
      | <i class="fa fa-tag"></i>
      
        <a class="text-muted" href="/tags/#coding ">coding</a>,
      
        <a class="text-muted" href="/tags/#aws ">aws</a>,
      
        <a class="text-muted" href="/tags/#s3 ">s3</a>,
      
        <a class="text-muted" href="/tags/#sns ">sns</a>,
      
        <a class="text-muted" href="/tags/#ec2 ">ec2</a>,
      
        <a class="text-muted" href="/tags/#Lambda ">Lambda</a>,
      
        <a class="text-muted" href="/tags/#slack ">slack</a>,
      
        <a class="text-muted" href="/tags/#bot ">bot</a>
      
    
  </p>
</div>

  <h3 id="introduction">Introduction</h3>
<p>I recently build a <a href="https://slack.com">Slack</a> command to help me handle actions on my VPC. The only thing you need is an <a href="http://aws.amazon.com">AWS account</a> - Free Tier it‚Äôs ok. I <a href="https://made2591.github.io/posts/free-tier-cloudwatch">recently wrote</a> about how to maximize resources, with particular focus on the number of hours you have in Free Tier - using specific CloudWatch Rules. In this article, I want to describe how I extended my architecture to invoke <em>actions</em> - potentially, all the action provided by Amazon Web Services official SDK(s) - with a single Slack command. I decided to call this slack command HAL because I think it‚Äôs a really dangerous command üòú</p>

<p align="center"><img src="https://i2.wp.com/filmdoctor.co.uk/wp-content/uploads/2014/06/1920x1080_49-movies-2001-space-odyssey-hal-9000-hd-wallpaper_mvrh.jpg" style="width: 100%; marker-top: -10px;" /></p>

<h3 id="ingredients">Ingredients</h3>
<p>You will need:</p>
<ul>
  <li><a href="http://aws.amazon.com">AWS account</a> (free tier it‚Äôs ok)</li>
  <li><a href="https://aws.amazon.com/en/Lambda/">AWS Lambda</a></li>
  <li><a href="https://aws.amazon.com/en/s3/">AWS S3</a></li>
  <li><a href="https://aws.amazon.com/en/sns/">AWS SNS</a></li>
  <li><a href="https://slack.com">Slack</a></li>
</ul>

<h4 id="general-schema">General schema</h4>
<p>The schema I created to handle my actions is the following</p>

<p align="center"><img src="http://image.ibb.co/muaGH7/hal_aws_bot.png" style="width: 100%; marker-top: -10px;" /></p>

<h3 id="recipe">Recipe</h3>
<p>As I already said in a preview post on AWS Services, I recommend you to pay a lot of attention. You always have to know exactly what are you doing, to avoid surprise in billing in the end of the month. Fortunately, there are a lot of documentations on Amazon official site, so you only have to read them.</p>

<h4 id="one-slack-command-to-rule-them-all">One slack command to rule them all</h4>
<p>Immagine to have a chatbot able to recognize sentence orders:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HAL, start my jenkins instances and stop the kafka cluster.
</code></pre></div></div>

<p>Or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Schedule my-Lambda to run in the next 3 hours.
</code></pre></div></div>

<p>This sentences both invoke particular predefined actions in your VPC, but if you you want a bot able to understand them, you have no choice: you need something able to understand natural language. This is tricky because even if you can do this efficiently - I mean, recognize instances, actions, contexts, retrieve ids of resources and so on - in the end you have to deal with the mapping between what you (actually, your bot) understood and what you effectively want to do in your VPC (or house, etc). But‚Ä¶if you think about it, why should you use natural language? I mean, you use regular language to talk to machines every day, without any problems: git add, docker-compose up, ps aux, etc are all specific commands precisely understood by machines, like clicks in web applications are able to reach specific url. The <em>parameters</em> and parametric thinking solve - in a sense - the problems of create something as much as possible generic, durable, but‚Ä¶in the end, formally defined. Regular.</p>

<p>And that‚Äôs why I decided to implement a grammar - the old style way. Imagine to have two sets: <script type="math/tex">C</script>, the set of contexts (ec2, Lambda, etc) and <script type="math/tex">A_c</script> the set of action for the specific context <script type="math/tex">c \in C</script>. You can invoke one single command with one or more specified context, each of them followed by one or more actions available in the specific context, each of them followed by 0 or more parameters - if needed. It seems difficult to create something like this, but - believe me - it is not. The grammar is really simple:</p>

<ul>
  <li>S := /hal (C;)+</li>
  <li>C := <script type="math/tex">c \in C</script> (-&gt; A(c)) | <script type="math/tex">c \in C</script> (-&gt; A(c),)+;</li>
  <li>A(c) := <script type="math/tex">a \in A_c</script> (a-zA-Z0-9)*;</li>
</ul>

<p>Ok, I mixed a little bit of notation: first, don‚Äôt get confused by the uppercase symbols (S, C, A) and the the set C and A. The grammar start symbol is S: it produces the string <em>‚Äú/hal‚Äù</em> followed by the result of at least one (I used regex expression +) production of the symbol C followed by <em>‚Äù;‚Äù</em>. Thus, our command would be something like</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/hal [result of C]; ... [result of C]; from 1 to n
</code></pre></div></div>

<p>The C symbol produces a string in the form <em>‚Äúc‚Äù</em> with <script type="math/tex">c \in C</script>, followed by the result of 1 or more (I used regex expression + and or symbol | to prevent insert a comma <em>‚Äù,‚Äù</em>) concatenation of <em>‚Äù-&gt;‚Äù</em> with the production of the symbol A (related to the chosen context c) followed by <em>‚Äù,‚Äù</em>. Let be c = <em>‚Äúec2‚Äù</em>, our C symbol would produce something like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ec2 -&gt; [result of A(ec2)]
</code></pre></div></div>

<p>Or, if more than one action is produced, each one except the last is followed by the commma <em>‚Äù,‚Äù</em> and the result will be something like (for instance, for three actions over the same context):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ec2 -&gt; [result of A(ec2), result of A(ec2), result of A(ec2)]
</code></pre></div></div>

<p>Finally, given a context c, the symbol <script type="math/tex">A(c)</script> produces a concatenation of one of the actions <script type="math/tex">a</script> available in the context (i.e., with <script type="math/tex">a \in A_c</script>) followed by 0-n parameters. Given a = <em>‚Äústart‚Äù</em>, with <script type="math/tex">a \in A_c</script>, then the symbol A(c) will produce:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>start all
</code></pre></div></div>

<p>or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>start docker jenkins
</code></pre></div></div>

<p>or simply</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>start
</code></pre></div></div>

<p>Putting all toghether and extending the set of context and actions, we get something like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/hal ec2 -&gt; start docker jenkins, -&gt; stop kafka; Lambda -&gt; create new nodejs;
</code></pre></div></div>

<p>This command is easy to write, readable and easily to parse using a little bit of string manipulation without going crazy. Of course, you can define your own grammar!</p>

<h4 id="a-single-aws-lambda-to-execute-actions">A single AWS Lambda to execute actions</h4>
<p>Let‚Äôs forget for a moment the grammar. Let say that you have the result of your commands in a JSON request in the form:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"context"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"context"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<p>Ok, this is simple to handle. The only things you need to do is mapping context and actions to specific action in your VPC - using an AWS Lambda function. You will use this mapping also to <em>validate</em> your command later, so I decided to wrote a JSON file to a closed S3 bucket. In the next paragraph, I describe this JSON configuration file and how to create a s3 bucket.</p>

<h4 id="s3-unique-configuration-endpoint">S3: unique configuration endpoint</h4>
<p>Have a look at the configuration below</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"ec2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"start"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"start_instances_action"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stop"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"stop_instances_action"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Lambda"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"invoke"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"invoke_Lambda"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"create"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"create_Lambda"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"schedule_Lambda"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<p>The keys at the first level provide the set <script type="math/tex">C</script> of specific contexts you want to handle with your grammar. Keys of each context provide the set of specific actions <script type="math/tex">A(c)</script> available in the context and the value of each action key is the name of the method to invoke during the AWS Lambda execution. To create an s3 bucket, follow <a href="https://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html">this</a> guidelines, then put your JSON configuration file in the bucket. You will need the name of the bucket and the of the file in it late to setup AWS Lambda(s). Let‚Äôs create the core Lambda that will execute passed actions.</p>

<h4 id="aws-lambda-vpc-actions">AWS Lambda: VPC Actions</h4>
<p>I created this Lambda using Python: you can of course working with the other supported language. The code is available <a href="https://gist.github.com/made2591/6c4c35590831101f203f8b5b26d4e2f9">in this Github Gist</a>.</p>

<p>The <code class="highlighter-rouge">VPCAction</code> class implements the methods defined in the configuration file created and uploaded to the s3 bucket: in my example, the Lambda context methods are missing but this is not a problem because the <code class="highlighter-rouge">getActionConfiguration</code> method looks (this is done using the <code class="highlighter-rouge">getattr</code> method) for an acation in the <code class="highlighter-rouge">VPCAction</code> class and if there isn‚Äôt a match, assign an empty action to prevent errors during execution of (eventually not-defined) actions (better, defined in configuration so available in commands, but actually not implemented yet).</p>

<p>If the action is allowed and pass each check, the response of the respective method called on the specific context with given parameters is saved in a dictionary and then returned as result.</p>

<p>Another interesting point is the <code class="highlighter-rouge">isinstance</code> check done in the handler method is to prevent errors while testing your Lambda. In fact, this Lambda will be invoked by using <code class="highlighter-rouge">AWS SNS</code>, so it has to be able to deal with events coming from the SNS publish-subscribe system. I will talk later about this. After you give to the role assumed by this Lambda the right policy to get into the s3 and to work with ec2 instances, you can test it by creating a test event like the ones defined in the previous paragraph.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ec2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"jenkins"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<p>Done? Ok. Let‚Äô attach the SNS trigger to the Lambda. It‚Äôs really simple: starting from the web console, you can add a trigger to your Lambda and the only thing you have to do is provide the ARN of the topic. To define a topic for HAL and get an ARN, follow <a href="https://docs.aws.amazon.com/sns/latest/dg/CreateTopic.html">this</a> guidelines.</p>

<p>Let‚Äôs go ahead by creating another Lambda to handle slack command. I used Node.js for my <code class="highlighter-rouge">SlackEntryPoint</code> AWS Lambda: for the moment, create an empty function, just to test message coming from the Slack command we will create later: just put a log and return the event passed for debug purpose.</p>

<p>Let‚Äôs define an endpoint for the empty Lambda</p>

<h4 id="api-gateway">API Gateway</h4>
<ul>
  <li>In AWS go to the API Gateway section;</li>
  <li>Click the ‚ÄúCreate API‚Äù button and fill in the details;</li>
  <li>Click the Create method button in the top right, and select POST from the drop down on the left (and click the small tick);</li>
  <li>In the Integration type select Lambda function, and select the region your AWS account is set to and start typing - for instance, in my case <code class="highlighter-rouge">SlackEntryPoint</code> (the empty Lambda) - for a list of your Lambdas to appear;</li>
  <li>Click ‚ÄúSave‚Äù;</li>
  <li>On the following screen click the box Integration Request and scroll down to the Mapping Requests section to define a Body Mapping template;</li>
  <li>Click Add mapping template and type application/json into the box and click the small tick;</li>
  <li>Click the pen icon next to the word Input passthrough and select Mapping template from the dropdown;</li>
  <li>In the Template box put the code available <a href="https://gist.github.com/made2591/f173b4af0a2d6b4e87887507b59260f9">here</a>;</li>
  <li>Click the small tick to save these settings and select the Deploy API button;</li>
</ul>

<p>At the top of the page you should now be given a HTTPS URL (similar to http://xyz.execute-api.zone-1.amazonaws.com/stage). This URL is needed for the creation of the Slack command /hal.</p>

<h4 id="slack-command">Slack command</h4>
<p>When you create a Slack application (see step 4 of <a href="https://made2591.github.io/posts/free-tier-cloudwatch">my previous post</a> for more details), you can easily add a command to invoke request. The only things you need is a URL as endpoint - the one we have just defined above. If you have a look a look at the <a href="https://api.slack.com/slash-commands">documentation</a>, you find out that each time you invoke the Slack command, the message (and its data) will be sent to the configured external URL via HTTP POST. For example, imagine a workspace at example.slack.com installed an app with a command called /weather. If someone on that workspace types /weather 94070 in their #test channel and hits enter, this data would be posted to the external URL:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">token</span><span class="o">=</span>gIkuvaNzQIHg97ATvDxqgjtO
<span class="nv">team_id</span><span class="o">=</span>T0001
<span class="nv">team_domain</span><span class="o">=</span>example
<span class="nv">enterprise_id</span><span class="o">=</span>E0001
<span class="nv">enterprise_name</span><span class="o">=</span>Globular%20Construct%20Inc
<span class="nv">channel_id</span><span class="o">=</span>C2147483705
<span class="nv">channel_name</span><span class="o">=</span><span class="nb">test
</span><span class="nv">user_id</span><span class="o">=</span>U2147483697
<span class="nv">user_name</span><span class="o">=</span>Steve
<span class="nb">command</span><span class="o">=</span>/weather
<span class="nv">text</span><span class="o">=</span>94070
<span class="nv">response_url</span><span class="o">=</span>https://hooks.slack.com/commands/1234/5678
<span class="nv">trigger_id</span><span class="o">=</span>13345224609.738474920.8088930838d88f008e0</code></pre></figure>

<p>This data will be sent to your URL as a HTTP POST with a <code class="highlighter-rouge">Content-type</code> header set as <code class="highlighter-rouge">application/x-www-form-urlencoded</code>: because we defined a Body Mapping template to deal with x-www-form-urlencoded content-type, we can use the link provided by API Gateway console after the deploy and start testing our command (better if in a private channel). If you type and return /hal, you could see a json version of the information provided by Slack.</p>

<h4 id="aws-simple-notification-service">AWS Simple Notification Service</h4>
<p>You can fill your <code class="highlighter-rouge">SlackEntryPoint</code> Lambda with the code available <a href="https://gist.github.com/made2591/9db86b9c3256ea60620b7923f9ee9297">in this Github Gist</a> - I know, it‚Äôs not so good, but it‚Äôs ok for a test. That‚Äôs the part where AWS SNS is used: SNS is the way I delegate the action parsed by my SlackEntryPoint Lambda to my VPCAction Lambda to both reduced timeout error - still there, if my Lambda are not cached (1st call) - returned by Slack and to split in pieces without invoking a Lambda from a Lambda (it is possible, but I think slower). In particular, SlackEntryPoint in order:</p>

<ul>
  <li>checkSecurity (validate Slack provided token, and in my case alse my ID, my private channel and so on);</li>
  <li>parseText (provided as arguments of my /hal command);</li>
  <li>checkIntegrity (this parts use the same configuration file of the bucket previously created);</li>
  <li>publishActionOnSNSTopic (and invoke the VPCActions Lambda - excluding grammar errors);</li>
</ul>

<h4 id="optional-aws-lambda-to-send-information-on-change-of-status">Optional: AWS Lambda to send information on change of status</h4>
<p>I recently wrote a Lambda to let me know the change of status: of course, you can create a Lambda able to send generic message, and let VPC Actions publish the message over a SNS topic to provide slack response customized by the action you invoked. My third Lambda for this project is available <a href="https://gist.github.com/made2591/acc61010fa119929718e122ca69d8a92">here</a>.</p>

<p align="center"><img src="http://image.ibb.co/iDTW0S/hal_aws_bot_2.png" style="width: 100%; marker-top: -10px;" /></p>

<p>Thank you everybody for reading!</p>



<div class="comments">
   <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'made2591';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

</div>

<hr/>


  
    <div class="post-navs row">
      
        <div class="col-md-6 post-nav">

          <h3 class="section-header">
            Older
            <span class="text-muted"> &middot; </span>
            <a href="/archive">View Archive (35)</a>
          </h3>

          <h2 class="post-title-link"><a href="/posts/aws-jarvis-button">JarvisButton: how to invoke multiple AWS Lambda with one AWS IoT Button (not Enterprise ed.)</a></h2>
          <h3 id="introduction">Introduction</h3>
<p>If you have an <a href="http://aws.amazon.com">AWS account</a> in Free Tier, bla bla bla ok stop: I am a AWS Lambda maniac. I only wrote about them (<a href="https://made2591.github.io/posts/aws-lambda">here</a>, <a href="https://made2591.github.io/posts/aws-step-functions">here</a>). In this article, I want to talk about my new purchase that is - of course - related to AWS Lambda: the AWS IoT Button. It first made its appearance on the IoT scene in October of 2015 at AWS re:Invent with the introduction of the AWS IoT service. That year all re:Invent attendees received the AWS IoT Button providing them the opportunity to get hands-on with AWS IoT. So cute. Since that time, AWS IoT button has been made broadly available to anyone interested in the clickable IoT device. Here it is! üòéüòéüòé</p>


        </div>
      
      

        <div class="col-md-6 post-nav">
          <h3 class="section-header">
            Newer
            
          </h3>

          <h2 class="post-title-link"><a href="/posts/kakfa-and-blockchain">[Not completed yet] Implementing a Blockchain using Kafka</a></h2>
          <h3 id="introduction">Introduction</h3>
<p>I recently started interesting about the concept of <em>streaming</em> - not videos, of course - mainly because in the last months I collected several sources to be used as starting point: so, waiting for my Google Home Mini to be shipped, I decided to mix togheter two words I often see surfing the Web. The first is Kafka - that is a distributed streaming platform (ok but what exactly does that mean - <em>for real</em>? Be patience, I will try to introduce the tool in this article) and the second is Blockchain (I don‚Äôt like this world, believe me or not I think it‚Äôs like Big Data, in the sense that <em>everybody knows the principles but nobody wants to deal with the maths</em>): this two concepts have kind of <em>similarity</em>, I guess üßê
I have a problem with memory, so I first talk about how Kafka works just to remind me the key concepts for the next month, because I use to forget everything I learn - d***q.</p>


        </div>
      
    </div>
  



          <div id="footer">
<hr/>
  <div class="pull-left">
    &copy;2019.
    Built with <a href="http://jekyllrb.com/">Jekyll</a> and
    <a href="https://github.com/kirqe/autm-rb">Autm-rb</a>. Thanks to <a href="https://github.com/kirqe">kirqe</a>.
  </div>

  <div class="pull-right">
    <span class="credits pull-right social">
      
        
          <a href="https://github.com/made2591/" target="_blank"><i class="fa fa-github"></i></a>
        
      
        
          <a href="https://twitter.com/made2591" target="_blank"><i class="fa fa-twitter"></i></a>
        
      
        
          <a href="https://linkedin.com/in/mmadeddu" target="_blank"><i class="fa fa-linkedin"></i></a>
        
      
        
          <a href="https://www.facebook.com/matteo.madeddu" target="_blank"><i class="fa fa-facebook"></i></a>
        
      
    </span>
  </div>
</div>

        </section>
    </div>
    </div>
    <script src="/public/javascripts/jquery.min.js"></script>
    <script src="/public/javascripts/bootstrap.min.js"></script>
    <!-- Place your <script> tags here. -->

<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<script id="dsq-count-scr" src="//made2591-github-io.disqus.com/count.js" async></script>

<!-- disqus comment counter -->
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'made2591-github-io';

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function () {
	    var s = document.createElement('script'); s.async = true;
	    s.type = 'text/javascript';
	    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
	    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
</script>
<!-- /disqus comment counter -->

<!-- google analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111283556-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111283556-1');
</script>
<!-- /google analytics -->

  </body>
</html>
